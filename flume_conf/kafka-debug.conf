# 简化的 Flume 测试配置 - 输出到控制台和文件
# 用于测试 Kafka 是否能正常消费数据

a1.sources = kafka-source
a1.channels = memory-channel
a1.sinks = logger-sink file-sink

# Kafka Source
a1.sources.kafka-source.type = org.apache.flume.source.kafka.KafkaSource
a1.sources.kafka-source.kafka.bootstrap.servers = 192.168.120.101:9092,192.168.120.102:9092,192.168.120.103:9092
a1.sources.kafka-source.kafka.topics = nowcoder_jobs
a1.sources.kafka-source.kafka.consumer.group.id = flume-test-debug
a1.sources.kafka-source.batchSize = 100
a1.sources.kafka-source.batchDurationMillis = 1000
a1.sources.kafka-source.kafka.consumer.auto.offset.reset = earliest

# Memory Channel
a1.channels.memory-channel.type = memory
a1.channels.memory-channel.capacity = 5000
a1.channels.memory-channel.transactionCapacity = 100

# Logger Sink (输出到控制台)
a1.sinks.logger-sink.type = logger
a1.sinks.logger-sink.maxBytesToLog = 200

# File Sink (写入本地文件)
a1.sinks.file-sink.type = file_roll
a1.sinks.file-sink.sink.directory = /tmp/flume-output
a1.sinks.file-sink.sink.rollInterval = 0

# 绑定
a1.sources.kafka-source.channels = memory-channel
a1.sinks.logger-sink.channel = memory-channel
a1.sinks.file-sink.channel = memory-channel
