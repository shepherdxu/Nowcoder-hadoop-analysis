牛客网岗位数据清洗方案
背景
牛客网爬取的 
nowcoder_jobs_edge.json
 包含约7,000条岗位数据（148,108行），存在多种数据质量问题需要修正和清洗。

识别出的数据质量问题
1. 字段错位问题 🔴 高优先级
问题类型	示例	影响
公司名称存放标签	"公司名称": "体验很好", "独角兽企业", "股权激励", "待遇好", "工资高"	无法识别真实公司
薪资放入岗位名称	"岗位名称": "京东零售Java后端工程师20K～40K" 同时薪资字段重复	岗位名称不规范
城市字段为空	城市在职位描述中 "郑州\n本科\njava多线程"	城市统计不准确
岗位名称包含城市	"【25届校招】Java工程师（合肥）"	岗位标准化困难
2. 职位描述混杂问题 🔴 高优先级
职位描述字段混入了多种非职位描述信息：

"职位描述": "195位牛友收藏\n高新技术"
"职位描述": "刚刚有人投递过\n郑州\n本科\njava多线程\n数字马力"
"职位描述": "51位牛友收藏\n本科\n海能达通信"
"职位描述": "薪资超87%同类职位\n刚刚有人投递过\n快手"
"职位描述": "20-40K·17薪\n6位牛友收藏\n本科\n京东\n电商"
混入信息类型：

⭐ 收藏数："195位牛友收藏", "18位牛友收藏"
🏃 活跃状态："刚刚有人投递过", "HR近期来过", "HR刚刚处理简历"
📍 城市信息："郑州", "合肥", "东莞"
🎓 学历信息："本科", "硕士", "专科"
🏢 真实公司名："数字马力", "京东", "华为HUAWEI", "精智达"
💰 薪资信息："20-40K·17薪", "薪资超87%同类职位"
🔧 技能标签："java多线程", "SSM", "操作系统"
🏷️ 公司标签："高新技术", "电商", "游戏"
⏰ 截止信息："还有1天截止"
📊 榜单信息："HC充足榜", "学历友好榜", "牛客指数榜"
🔗 投递提示："简历直投官网", "牛客专属内推通道"
3. 岗位名称不规范 🟡 中优先级
问题类型	示例
无意义名称	"岗位名称": "为你推荐"
岗位+城市混合	"JAVA开发工程师（2026届校招）-武汉"
岗位+批次混合	"2026届秋招-Java后台开发工程师"
编号冗余	"Java工程师-26届校招-J15117"
不完整	"26】科技中心管培生... (缺少开头)
4. 公司名称问题 🟡 中优先级
问题类型	示例	建议处理
标签误入	"体验很好", "股权激励"	从职位描述提取真实公司名
名称不完整	"浙江一木智能科技有限" 缺"公司"	补全公司后缀
特殊字符	"广东叶子科技发展有限​" 含不可见字符	清理特殊字符
5. 薪资格式问题 🟢 低优先级
格式类型	示例	结构化建议
标准格式	"15-25K·14薪"	min=15, max=25, months=14
面议	"薪资面议"	negotiable=true
非标格式	"9-11k · 14薪" (空格，小写k)	规范化处理
错位	薪资在岗位名称中	提取并归位
6. 空值和缺失问题 🟢 低优先级
许多字段为空字符串：

城市, 职位类型, 学历要求, 毕业年份, 公司类型, 公司性质
7. 重复数据问题 🟡 中优先级
发现大量重复岗位（相同job_id不同链接参数），需要去重。

数据清洗方案
Phase 1: 信息提取与回填
1.1 从职位描述中提取信息
提取内容	正则/规则	回填到
收藏数	(\d+)位牛友收藏	新增字段 收藏数
城市	匹配城市列表	城市 字段（如为空）
学历	本科|硕士|博士|专科|不限	学历要求（如为空）
真实公司名	匹配已知公司列表 + 启发式规则	公司名称（如当前为标签）
活跃状态	刚刚有人投递过|HR近期来过|HR刚刚处理简历	新增字段 活跃状态
薪资	(\d+)-(\d+)K·(\d+)薪	薪资（如当前格式异常）
1.2 从岗位名称中提取信息
提取内容	正则	处理
城市	（(.+?)）|\\((.+?)\\)|-(.+?)$	回填城市+清理岗位名称
招聘批次	\[(25|26)届\]|2025届|2026届|校招|秋招	新增字段 招聘批次
岗位编号	[JJ]?\d{5,}	新增字段 job_code
Phase 2: 数据修正
2.1 公司名称修复
# 识别标签列表
COMPANY_TAGS = ["体验很好", "独角兽企业", "股权激励", "待遇好", 
                "工资高", "互联网综合", "通信电子", "信息安全", "平台大", ...]
# 从职位描述提取真实公司名候选
# 使用启发式规则：公司名通常是2-10个字，包含"科技"、"技术"、"集团"等
2.2 薪资结构化
{
    "薪资原始": "15-25K·14薪",
    "薪资_min": 15,      # 最低薪资(K)
    "薪资_max": 25,      # 最高薪资(K)
    "薪资_months": 14,   # 年薪月数
    "薪资_面议": false   # 是否面议
}
2.3 岗位名称标准化
移除城市、批次信息
提取核心岗位类型：Java开发, 前端开发, 算法工程师 等
新增 岗位类别 字段用于分类
Phase 3: 价值标注
3.1 高价值岗位标注
# 收藏数 > 50 => 高关注岗位
# 含 "刚刚有人投递过" => 活跃岗位
# 含 "HR近期来过" / "HR刚刚处理简历" => HR活跃岗位
# 新增字段 `岗位价值标签`: ["高收藏", "活跃", "HR活跃"]
Phase 4: 去重与清理
4.1 去重规则
相同 job_id 只保留一条
相同 公司名称 + 岗位名称 + 城市 只保留一条
4.2 删除规则（严重错误数据）
岗位名称 为 "为你推荐" 等无意义内容
job_id 为空或格式异常
输出产物
文件产出
文件名	说明
nowcoder_jobs_cleaned.json	清洗后的完整数据
nowcoder_jobs_high_value.json	高价值岗位子集（高收藏/活跃）
cleaning_report.json	清洗统计报告
新增字段
字段名	类型	说明
收藏数	int	牛友收藏数量
活跃状态	string	刚刚有人投递过/HR近期来过/HR刚刚处理简历
招聘批次	string	25届/26届校招/社招
岗位类别	string	标准化岗位类型
薪资_min	int	最低薪资(K)
薪资_max	int	最高薪资(K)
薪资_months	int	年薪月数
薪资_面议	bool	是否面议
岗位价值标签	list	价值标签列表
真实公司名	string	修正后的公司名
岗位名称_标准化	string	清理后的岗位名称
验证计划
自动化测试
运行清洗脚本

python clean_nowcoder_jobs.py
验证输出文件

确认 nowcoder_jobs_cleaned.json 是有效JSON
统计各字段非空率
统计新增字段覆盖率
抽样检查

随机抽取50条记录人工验证
验证信息提取准确性
清洗效果指标
城市字段非空率提升 X%
公司名称标签化率降低 X%
高价值岗位识别数量
去重后数据量变化
User Review Required
IMPORTANT

请确认以下关键决策：

是否同意删除 岗位名称 为 "为你推荐" 的数据？
对于无法从职位描述中恢复公司名的数据，是保留原标签还是标记为"未知"？
薪资结构化方案是否满足需求？
Proposed Changes
[NEW] 
clean_nowcoder_jobs.py
Python数据清洗脚本，实现上述所有清洗逻辑

输出文件
nowcoder_jobs_cleaned.json - 清洗后数据
nowcoder_jobs_high_value.json - 高价值岗位
cleaning_report.json - 清洗报告